"use strict";!function(t){t.fn.candlestick=function(e){if("val"==e)return t(this).find('input[type="hidden"]')?t(this).find('input[type="hidden"]').val():t(this).val();if("reset"==e){var i=new Candlestick(t(this));return i.parent=t('[data-candlestick-id="'+t(this).attr("id")+'"]'),i.handle=i.parent.find(".candlestick-toggle"),i.element=t("#"+t(this).element.attr("id")),i.defaultOrganization(),void i.setValue(0)}var n={on:"1",off:"0","default":"",swipe:!0,afterAction:function(){},afterRendering:function(){},afterOrganization:function(){},afterSetting:function(){}},s=t.extend(n,e);return this.each(function(){var e=new Candlestick(t(this),s);e.initialize()})}}(jQuery);var Candlestick=function(t,e){this.element=t,this.settings=e,this["default"]={},this.errors={}};Candlestick.prototype.initialize=function(){this["default"].id=this.element.attr("id"),this["default"].value=this.element.val(),this["default"].name=this.element.attr("name"),this["default"].data=this.element.data(),this.wrapElement(),this["delete"](),this.settings.afterRendering()&&this.settings.afterRendering(this.element,this.parent),this.defaultOrganization(),this.settings.afterOrganization()&&this.settings.afterOrganization(this.element,this.parent),this.assignValue(),this.actions()},Candlestick.prototype.wrapElement=function(){var t="",e="";e=this["default"].id?this["default"].id:this["default"].name.replace(/[\[\]]/gi,""),this["default"].id=e;var i="";if(this["default"].data){var n=this["default"].data;for(d in n)i+=" data-"+d+'="'+n[d]+'"'}var s="";this.element.attr("disabled")&&(t=" candlestick-disabled",s=" disabled");var a="";this.element.attr("readonly")&&(t=" candlestick-disabled readonly",a=" readonly"),this.settings.swipe&&(t+=" grab"),this.element.wrap('<div class="candlestick-wrapper"><div data-candlestick-id="'+e+'" class="candlestick-bg'+t+'"><div class="candlestick-toggle"></div><div class="candlestick-off"><i class="fa fa-times"></i></div><div class="candlestick-nc">&nbsp;</div><div class="candlestick-on"><i class="fa fa-check"></i></div><input type="hidden" value="'+this["default"].value+'" name="'+this["default"].name+'" id="'+e+'"'+i+s+a+"></div></div>")},Candlestick.prototype.assignValue=function(){var t=this["default"].value;(typeof t==typeof this.settings.on&&t==this.settings.on||typeof t==typeof this.settings.off&&t==this.settings.off)&&this.setPositionByValue(t)},Candlestick.prototype.setValue=function(t){var e="";0==t?e=this.settings["default"]:t>0?e=this.settings.on:0>t&&(e=this.settings.off),this.element.val(e),this.settings.afterSetting&&this.settings.afterSetting(this.element,this.parent,e)},Candlestick.prototype.setHandle=function(t){if(0==t)return this.defaultOrganization(),this.settings.afterAction()&&this.settings.afterAction(this.element,this.parent,"default"),void this.setValue(t);if(t>0)var e=this.parent.outerWidth()-this.parent.find(".candlestick-on").outerWidth(),i="on";else if(0>t)var e=0,i="off";this.settings.afterAction()&&this.settings.afterAction(this.element,this.parent,i),this.handle.css("left",e),this.setValue(t)},Candlestick.prototype.setPositionByValue=function(t){t==this.settings.on?(this.setBackground("on"),this.setHandle(1)):t==this.settings.off&&(this.setBackground("off"),this.setHandle(-1))},Candlestick.prototype.setBackground=function(t){this.parent.removeClass("on").removeClass("off"),this.parent.addClass(t)},Candlestick.prototype.defaultOrganization=function(){var t=this.parent.outerHeight(),e=this.parent.outerWidth(),i=(this.handle.outerWidth(),this.handle.outerWidth()),n=this.handle.outerHeight();this.parent.removeClass("on").removeClass("off"),this.handle.css({top:(t-n)/2,left:e/2-i/2})},Candlestick.prototype.actions=function(){this.actionOn(),this.actionOff(),this.actionDefault(),this.settings.swipe&&this.actionSwipe()},Candlestick.prototype.actionOn=function(){var t=this;this.parent.find(".candlestick-on").on("click",function(e){e.preventDefault(),t.putOn()})},Candlestick.prototype.putOn=function(){this.parent.hasClass("candlestick-disabled")||(this.setBackground("on"),this.setHandle(1))},Candlestick.prototype.actionOff=function(){var t=this;this.parent.find(".candlestick-off").on("click",function(e){e.preventDefault(),t.putOff()})},Candlestick.prototype.putOff=function(){this.parent.hasClass("candlestick-disabled")||(this.setBackground("off"),this.setHandle(-1))},Candlestick.prototype.actionDefault=function(){var t=this;this.parent.find(".candlestick-nc").on("click",function(e){e.preventDefault(),t.parent.hasClass("candlestick-disabled")||(t.setBackground(""),t.setHandle(0))})},Candlestick.prototype.actionSwipe=function(){var t=this;this.settings.swipe&&("undefined"!=typeof $.fn.hammer?this.parent.find(".candlestick-toggle").hammer({threshold:0,velocity:.1}).bind("panleft",function(){t.putOff()}).bind("panright",function(){t.putOn()}):$.error("You have to load hammerjs && jquery-hammerjs lib to use swipe option"))},Candlestick.prototype["delete"]=function(){this.element.remove(),this.parent=$('[data-candlestick-id="'+this["default"].id+'"]'),this.handle=this.parent.find(".candlestick-toggle"),this.element=$("#"+this["default"].id)};